<template>
  <section class="container section-recommendations">
    <h3 class="text-center mb-10">Recomenda√ß√µes</h3>
    <v-row style="margin: 120px 0px 50px 0px" class="flex-lg-nowrap">
      <v-col
        cols="12"
        lg="4"
        v-for="(recommendation, index) in recommendations"
        :key="index + 'recommendation'"
        style="margin-bottom: 100px"
      >
        <CardRecommendation :featured="index == 1" :recommendation="recommendation" />
      </v-col>
    </v-row>
  </section>
</template>

<script>
import CardRecommendation from "./CardRecommendation.vue";

export default {
  name: "SectionRecommendation",
  components: {
    CardRecommendation,
  },
  data() {
    return {
      recommendations: [
        {
          name: "Dayvison Santos de Souza",
          position: "Product Owner | Analista de Qualidade",
          message:
            "Jo√£o √© um cara extremamente competente, atencioso e prestativo. Desempenha um importante papel em nossa equipe e est√° sempre apto a aprender novos m√©todos e formas de trabalho, para melhorias nos processos.",
          avatar: "/static/users/user1.jfif",
        },
        {
          name: "Ana Carla Lima",
          position: "Desenvolvedora Full Stack",
          message:
            "Jo√£o desempenha sua fun√ß√£o de forma exemplar, um √≥timo profissional para trabalhar em equipe e sempre disposto a repassar seus conhecimentos com excel√™ncia e paci√™ncia.",
          avatar: "/static/users/user2.jfif",
        },

        {
          name: "Davi Guerra",
          position: "UX/UI",
          message:
            "Jo√£o √© muito bom naquilo que faz. Uma habilidade incr√≠vel e uma vontade impressionante de se tornar o melhor naquilo que faz. Com voc√™s, o Rei do Front-End üëë",
          avatar: "/static/users/user3.jfif",
        },
        {
          name: "J√≥se En√≥dio",
          position: "Desenvolvedor front-end e mobile",
          message:
            "Jo√£o tem uma capacidade de trabalho acima do normal, destaca-se pelos profundos conhecimentos t√©cnicos e empatia pelo pr√≥ximo. Ir√° agregar valor para qualquer organiza√ß√£o.",
          avatar: "/static/users/user4.jfif",
        },
      ],
      interval: null,
    };
  },

  methods: {
    moveRecommendation() {
      try {
        let arrAux = [...this.recommendations];
        for (let i = 0; i < arrAux.length - 1; i++) {
          let aux = arrAux[i];

          if (i < arrAux.length - 1) {
            arrAux[i] = arrAux[i + 1];
            arrAux[i + 1] = aux;
          }
        }
        this.recommendations = [...arrAux];
      } catch (e) {
        clearInterval(this.interval);
      }
    },
  },
  mounted() {
    this.interval = setInterval(this.moveRecommendation, 8000);
  },
};
</script>

<style lang="scss" scoped>
.section-recommendations {
  overflow-x: hidden;
}
</style>
